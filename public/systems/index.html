<!DOCTYPE html>
<html lang="en" data-theme="light" data-density="comfortable" data-build="2025-11-11T00:00:00Z">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="generator" content="Design System Generator v1.0.0">
  <title>Modern Design System - Interactive Documentation</title>
  <style>
    /* ============================================
       DESIGN TOKENS - FOUNDATION
       ============================================ */

    /* Base tokens - Light theme */
    :root,
    :root[data-theme="light"] {
      /* Colors - Semantic */
      --ds-bg: #ffffff;
      --ds-bg-muted: #f9fafb;
      --ds-surface: #ffffff;
      --ds-surface-raised: #ffffff;
      --ds-text: #111827;
      --ds-text-muted: #6b7280;
      --ds-border: #e5e7eb;

      --ds-primary: #3b82f6;
      --ds-primary-contrast: #ffffff;
      --ds-primary-hover: #2563eb;

      --ds-success: #16a34a;
      --ds-success-emphasis: #15803d;
      --ds-warning: #f59e0b;
      --ds-warning-emphasis: #d97706;
      --ds-danger: #ef4444;
      --ds-danger-emphasis: #dc2626;
      --ds-info: #3b82f6;
      --ds-info-emphasis: #2563eb;

      /* State overlays */
      --ds-hover: rgba(0, 0, 0, 0.04);
      --ds-active: rgba(0, 0, 0, 0.08);
      --ds-focus-ring: 0 0 0 3px rgba(59, 130, 246, 0.4);

      /* Color ramps */
      --ds-primary-50: #eff6ff;
      --ds-primary-100: #dbeafe;
      --ds-primary-200: #bfdbfe;
      --ds-primary-300: #93c5fd;
      --ds-primary-400: #60a5fa;
      --ds-primary-500: #3b82f6;
      --ds-primary-600: #2563eb;
      --ds-primary-700: #1d4ed8;
      --ds-primary-800: #1e40af;
      --ds-primary-900: #1e3a8a;

      /* Typography */
      --ds-font-sans: ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      --ds-font-mono: ui-monospace, 'SF Mono', 'Cascadia Code', 'Source Code Pro', Menlo, Monaco, Consolas, monospace;

      --ds-font-size-50: 0.625rem;   /* 10px */
      --ds-font-size-100: 0.75rem;   /* 12px */
      --ds-font-size-200: 0.875rem;  /* 14px */
      --ds-font-size-300: 1rem;      /* 16px */
      --ds-font-size-400: 1.125rem;  /* 18px */
      --ds-font-size-500: 1.25rem;   /* 20px */
      --ds-font-size-600: 1.5rem;    /* 24px */
      --ds-font-size-700: 1.875rem;  /* 30px */
      --ds-font-size-800: 2.25rem;   /* 36px */
      --ds-font-size-900: 3rem;      /* 48px */
      --ds-font-size-1000: 3.75rem;  /* 60px */

      --ds-line-compact: 1.25;
      --ds-line-default: 1.5;
      --ds-line-loose: 1.75;

      --ds-font-weight-regular: 400;
      --ds-font-weight-medium: 500;
      --ds-font-weight-semibold: 600;
      --ds-font-weight-bold: 700;

      /* Spacing & Sizing */
      --ds-space-0: 0;
      --ds-space-1: 0.25rem;  /* 4px */
      --ds-space-2: 0.5rem;   /* 8px */
      --ds-space-3: 0.75rem;  /* 12px */
      --ds-space-4: 1rem;     /* 16px */
      --ds-space-5: 1.25rem;  /* 20px */
      --ds-space-6: 1.5rem;   /* 24px */
      --ds-space-8: 2rem;     /* 32px */
      --ds-space-10: 2.5rem;  /* 40px */
      --ds-space-12: 3rem;    /* 48px */
      --ds-space-16: 4rem;    /* 64px */

      --ds-size-sm: 2rem;     /* 32px */
      --ds-size-md: 2.5rem;   /* 40px */
      --ds-size-lg: 3rem;     /* 48px */
      --ds-size-xl: 3.5rem;   /* 56px */

      /* Radius & Borders */
      --ds-radius-none: 0;
      --ds-radius-sm: 0.375rem;  /* 6px */
      --ds-radius-md: 0.5rem;    /* 8px */
      --ds-radius-lg: 0.75rem;   /* 12px */
      --ds-radius-xl: 1rem;      /* 16px */
      --ds-radius-full: 9999px;

      --ds-border-width-1: 1px;
      --ds-border-width-2: 2px;
      --ds-border-color: var(--ds-border);
      --ds-border-style: solid;

      /* Shadows & Elevation */
      --ds-shadow-0: none;
      --ds-shadow-1: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --ds-shadow-2: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px -1px rgba(0, 0, 0, 0.1);
      --ds-shadow-3: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
      --ds-shadow-4: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
      --ds-shadow-5: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);

      /* Motion */
      --ds-duration-fast: 120ms;
      --ds-duration-normal: 200ms;
      --ds-duration-slow: 320ms;
      --ds-ease-standard: cubic-bezier(0.2, 0, 0.2, 1);
      --ds-ease-emphasized: cubic-bezier(0.4, 0, 0.2, 1);

      /* Z-Index Layers */
      --ds-z-base: 0;
      --ds-z-sticky: 100;
      --ds-z-overlay: 500;
      --ds-z-popover: 600;
      --ds-z-modal: 700;
      --ds-z-toast: 800;

      /* Opacity */
      --ds-opacity-disabled: 0.5;
      --ds-opacity-hover: 0.08;
      --ds-opacity-active: 0.16;
    }

    /* LLM:DIRECTIVE
    {
      "id": "base-theme-tokens",
      "target": "token",
      "action": "define",
      "scope": [":root", "[data-theme='light']"],
      "rationale": "Base design tokens for light theme following semantic naming"
    }
    -->

    /* Dark theme */
    :root[data-theme="dark"] {
      --ds-bg: #0f172a;
      --ds-bg-muted: #1e293b;
      --ds-surface: #1e293b;
      --ds-surface-raised: #334155;
      --ds-text: #f1f5f9;
      --ds-text-muted: #94a3b8;
      --ds-border: #334155;

      --ds-primary: #60a5fa;
      --ds-primary-contrast: #0f172a;
      --ds-primary-hover: #93c5fd;

      --ds-success: #22c55e;
      --ds-success-emphasis: #4ade80;
      --ds-warning: #fbbf24;
      --ds-warning-emphasis: #fcd34d;
      --ds-danger: #f87171;
      --ds-danger-emphasis: #fca5a5;
      --ds-info: #60a5fa;
      --ds-info-emphasis: #93c5fd;

      --ds-hover: rgba(255, 255, 255, 0.08);
      --ds-active: rgba(255, 255, 255, 0.16);
      --ds-focus-ring: 0 0 0 3px rgba(96, 165, 250, 0.4);

      --ds-shadow-1: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
      --ds-shadow-2: 0 1px 3px 0 rgba(0, 0, 0, 0.4), 0 1px 2px -1px rgba(0, 0, 0, 0.4);
      --ds-shadow-3: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.4);
      --ds-shadow-4: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -4px rgba(0, 0, 0, 0.4);
      --ds-shadow-5: 0 20px 25px -5px rgba(0, 0, 0, 0.4), 0 8px 10px -6px rgba(0, 0, 0, 0.4);
    }

    /* High contrast mode */
    :root[data-contrast="high"] {
      --ds-border-width-1: 2px;
      --ds-border-width-2: 3px;
    }

    :root[data-theme="light"][data-contrast="high"] {
      --ds-text: #000000;
      --ds-bg: #ffffff;
      --ds-border: #000000;
      --ds-primary: #0000ff;
    }

    :root[data-theme="dark"][data-contrast="high"] {
      --ds-text: #ffffff;
      --ds-bg: #000000;
      --ds-border: #ffffff;
      --ds-primary: #00ffff;
    }

    /* Compact density mode */
    :root[data-density="compact"] {
      --ds-space-2: 0.375rem;  /* 6px */
      --ds-space-3: 0.625rem;  /* 10px */
      --ds-space-4: 0.875rem;  /* 14px */
      --ds-size-sm: 1.75rem;   /* 28px */
      --ds-size-md: 2rem;      /* 32px */
      --ds-size-lg: 2.5rem;    /* 40px */
      --ds-size-xl: 3rem;      /* 48px */
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* ============================================
       BASE STYLES & RESET
       ============================================ */

    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      font-family: var(--ds-font-sans);
      font-size: 16px;
      line-height: var(--ds-line-default);
      color: var(--ds-text);
      background: var(--ds-bg);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body {
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Focus styles */
    :focus-visible {
      outline: none;
      box-shadow: var(--ds-focus-ring);
    }

    /* ============================================
       LAYOUT & GRID
       ============================================ */

    .ds-container {
      width: 100%;
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 var(--ds-space-4);
    }

    .ds-grid {
      display: grid;
      gap: var(--ds-space-4);
      grid-template-columns: repeat(12, 1fr);
    }

    /* Layout structure */
    .ds-layout {
      display: grid;
      grid-template-areas:
        "header header"
        "sidebar main"
        "footer footer";
      grid-template-columns: 280px 1fr;
      grid-template-rows: auto 1fr auto;
      min-height: 100vh;
    }

    .ds-header {
      grid-area: header;
      position: sticky;
      top: 0;
      z-index: var(--ds-z-sticky);
      background: var(--ds-surface);
      border-bottom: var(--ds-border-width-1) solid var(--ds-border);
      padding: var(--ds-space-4);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--ds-space-4);
    }

    .ds-sidebar {
      grid-area: sidebar;
      background: var(--ds-bg-muted);
      border-right: var(--ds-border-width-1) solid var(--ds-border);
      padding: var(--ds-space-4);
      overflow-y: auto;
      height: calc(100vh - 73px);
      position: sticky;
      top: 73px;
    }

    .ds-main {
      grid-area: main;
      padding: var(--ds-space-6);
      max-width: 1200px;
    }

    .ds-footer {
      grid-area: footer;
      background: var(--ds-bg-muted);
      border-top: var(--ds-border-width-1) solid var(--ds-border);
      padding: var(--ds-space-6);
      text-align: center;
      font-size: var(--ds-font-size-200);
      color: var(--ds-text-muted);
    }

    @media (max-width: 768px) {
      .ds-layout {
        grid-template-areas:
          "header"
          "main"
          "footer";
        grid-template-columns: 1fr;
      }

      .ds-sidebar {
        display: none;
      }
    }

    /* ============================================
       TYPOGRAPHY
       ============================================ */

    h1, h2, h3, h4, h5, h6 {
      font-weight: var(--ds-font-weight-bold);
      line-height: var(--ds-line-compact);
      margin-bottom: var(--ds-space-4);
    }

    h1 { font-size: var(--ds-font-size-800); }
    h2 { font-size: var(--ds-font-size-700); margin-top: var(--ds-space-8); }
    h3 { font-size: var(--ds-font-size-600); margin-top: var(--ds-space-6); }
    h4 { font-size: var(--ds-font-size-500); }
    h5 { font-size: var(--ds-font-size-400); }
    h6 { font-size: var(--ds-font-size-300); }

    p {
      margin-bottom: var(--ds-space-4);
    }

    code {
      font-family: var(--ds-font-mono);
      font-size: 0.9em;
      background: var(--ds-bg-muted);
      padding: var(--ds-space-1) var(--ds-space-2);
      border-radius: var(--ds-radius-sm);
      border: var(--ds-border-width-1) solid var(--ds-border);
    }

    pre {
      font-family: var(--ds-font-mono);
      font-size: var(--ds-font-size-200);
      background: var(--ds-bg-muted);
      padding: var(--ds-space-4);
      border-radius: var(--ds-radius-md);
      border: var(--ds-border-width-1) solid var(--ds-border);
      overflow-x: auto;
      margin-bottom: var(--ds-space-4);
    }

    pre code {
      background: none;
      padding: 0;
      border: none;
    }

    /* ============================================
       BUTTONS
       ============================================ */

    .ds-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--ds-space-2);
      font-family: var(--ds-font-sans);
      font-size: var(--ds-font-size-200);
      font-weight: var(--ds-font-weight-semibold);
      min-height: var(--ds-size-md);
      padding: 0 var(--ds-space-4);
      border-radius: var(--ds-radius-md);
      border: var(--ds-border-width-1) solid transparent;
      cursor: pointer;
      transition: all var(--ds-duration-normal) var(--ds-ease-standard);
      white-space: nowrap;
      user-select: none;
    }

    .ds-btn:focus-visible {
      outline: none;
      box-shadow: var(--ds-focus-ring);
    }

    .ds-btn:disabled {
      opacity: var(--ds-opacity-disabled);
      cursor: not-allowed;
    }

    /* Button variants */
    .ds-btn--primary {
      color: var(--ds-primary-contrast);
      background: var(--ds-primary);
    }

    .ds-btn--primary:hover:not(:disabled) {
      background: var(--ds-primary-hover);
    }

    .ds-btn--primary:active:not(:disabled) {
      transform: translateY(1px);
    }

    .ds-btn--secondary {
      color: var(--ds-text);
      background: var(--ds-bg-muted);
      border-color: var(--ds-border);
    }

    .ds-btn--secondary:hover:not(:disabled) {
      background: var(--ds-hover);
    }

    .ds-btn--outline {
      color: var(--ds-text);
      background: transparent;
      border-color: var(--ds-border);
    }

    .ds-btn--outline:hover:not(:disabled) {
      background: var(--ds-hover);
    }

    .ds-btn--ghost {
      color: var(--ds-text);
      background: transparent;
    }

    .ds-btn--ghost:hover:not(:disabled) {
      background: var(--ds-hover);
    }

    .ds-btn--danger {
      color: #ffffff;
      background: var(--ds-danger);
    }

    .ds-btn--danger:hover:not(:disabled) {
      background: var(--ds-danger-emphasis);
    }

    /* Button sizes */
    .ds-btn--sm {
      min-height: var(--ds-size-sm);
      padding: 0 var(--ds-space-3);
      font-size: var(--ds-font-size-100);
    }

    .ds-btn--lg {
      min-height: var(--ds-size-lg);
      padding: 0 var(--ds-space-6);
      font-size: var(--ds-font-size-300);
    }

    /* Icon button */
    .ds-btn--icon {
      padding: 0;
      width: var(--ds-size-md);
      min-height: var(--ds-size-md);
    }

    .ds-btn--icon.ds-btn--sm {
      width: var(--ds-size-sm);
      min-height: var(--ds-size-sm);
    }

    /* ============================================
       INPUTS & FORMS
       ============================================ */

    .ds-input,
    .ds-textarea,
    .ds-select {
      font-family: var(--ds-font-sans);
      font-size: var(--ds-font-size-200);
      color: var(--ds-text);
      background: var(--ds-surface);
      border: var(--ds-border-width-1) solid var(--ds-border);
      border-radius: var(--ds-radius-md);
      padding: var(--ds-space-3) var(--ds-space-4);
      min-height: var(--ds-size-md);
      width: 100%;
      transition: border-color var(--ds-duration-normal) var(--ds-ease-standard),
                  box-shadow var(--ds-duration-normal) var(--ds-ease-standard);
    }

    .ds-input:hover,
    .ds-textarea:hover,
    .ds-select:hover {
      border-color: var(--ds-primary);
    }

    .ds-input:focus,
    .ds-textarea:focus,
    .ds-select:focus {
      outline: none;
      border-color: var(--ds-primary);
      box-shadow: var(--ds-focus-ring);
    }

    .ds-input:disabled,
    .ds-textarea:disabled,
    .ds-select:disabled {
      opacity: var(--ds-opacity-disabled);
      cursor: not-allowed;
    }

    .ds-textarea {
      min-height: 120px;
      resize: vertical;
    }

    .ds-label {
      display: block;
      font-size: var(--ds-font-size-200);
      font-weight: var(--ds-font-weight-medium);
      margin-bottom: var(--ds-space-2);
      color: var(--ds-text);
    }

    .ds-form-group {
      margin-bottom: var(--ds-space-4);
    }

    .ds-helper-text {
      font-size: var(--ds-font-size-100);
      color: var(--ds-text-muted);
      margin-top: var(--ds-space-1);
    }

    .ds-error-text {
      font-size: var(--ds-font-size-100);
      color: var(--ds-danger);
      margin-top: var(--ds-space-1);
    }

    /* Checkbox & Radio */
    .ds-checkbox,
    .ds-radio {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: var(--ds-space-2);
      cursor: pointer;
      user-select: none;
    }

    .ds-checkbox input,
    .ds-radio input {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }

    .ds-checkbox-box,
    .ds-radio-box {
      width: 20px;
      height: 20px;
      border: var(--ds-border-width-2) solid var(--ds-border);
      background: var(--ds-surface);
      transition: all var(--ds-duration-normal) var(--ds-ease-standard);
      flex-shrink: 0;
    }

    .ds-checkbox-box {
      border-radius: var(--ds-radius-sm);
    }

    .ds-radio-box {
      border-radius: var(--ds-radius-full);
    }

    .ds-checkbox input:checked + .ds-checkbox-box,
    .ds-radio input:checked + .ds-radio-box {
      background: var(--ds-primary);
      border-color: var(--ds-primary);
    }

    .ds-checkbox input:focus-visible + .ds-checkbox-box,
    .ds-radio input:focus-visible + .ds-radio-box {
      box-shadow: var(--ds-focus-ring);
    }

    .ds-checkbox input:checked + .ds-checkbox-box::after {
      content: '';
      position: absolute;
      left: 7px;
      top: 3px;
      width: 5px;
      height: 10px;
      border: solid var(--ds-primary-contrast);
      border-width: 0 2px 2px 0;
      transform: rotate(45deg);
    }

    .ds-radio input:checked + .ds-radio-box::after {
      content: '';
      position: absolute;
      left: 6px;
      top: 6px;
      width: 8px;
      height: 8px;
      border-radius: var(--ds-radius-full);
      background: var(--ds-primary-contrast);
    }

    /* Switch */
    .ds-switch {
      position: relative;
      display: inline-flex;
      align-items: center;
      gap: var(--ds-space-2);
      cursor: pointer;
      user-select: none;
    }

    .ds-switch input {
      position: absolute;
      opacity: 0;
      width: 0;
      height: 0;
    }

    .ds-switch-track {
      width: 44px;
      height: 24px;
      background: var(--ds-border);
      border-radius: var(--ds-radius-full);
      transition: background var(--ds-duration-normal) var(--ds-ease-standard);
      position: relative;
      flex-shrink: 0;
    }

    .ds-switch-thumb {
      position: absolute;
      top: 2px;
      left: 2px;
      width: 20px;
      height: 20px;
      background: var(--ds-surface);
      border-radius: var(--ds-radius-full);
      transition: transform var(--ds-duration-normal) var(--ds-ease-standard);
      box-shadow: var(--ds-shadow-2);
    }

    .ds-switch input:checked + .ds-switch-track {
      background: var(--ds-primary);
    }

    .ds-switch input:checked + .ds-switch-track .ds-switch-thumb {
      transform: translateX(20px);
    }

    .ds-switch input:focus-visible + .ds-switch-track {
      box-shadow: var(--ds-focus-ring);
    }

    /* ============================================
       CARDS
       ============================================ */

    .ds-card {
      background: var(--ds-surface);
      border: var(--ds-border-width-1) solid var(--ds-border);
      border-radius: var(--ds-radius-lg);
      padding: var(--ds-space-6);
      box-shadow: var(--ds-shadow-1);
      transition: box-shadow var(--ds-duration-normal) var(--ds-ease-standard);
    }

    .ds-card:hover {
      box-shadow: var(--ds-shadow-3);
    }

    .ds-card-header {
      margin-bottom: var(--ds-space-4);
    }

    .ds-card-title {
      font-size: var(--ds-font-size-500);
      font-weight: var(--ds-font-weight-bold);
      margin-bottom: var(--ds-space-2);
    }

    .ds-card-subtitle {
      font-size: var(--ds-font-size-200);
      color: var(--ds-text-muted);
    }

    /* ============================================
       ALERTS & NOTIFICATIONS
       ============================================ */

    .ds-alert {
      padding: var(--ds-space-4);
      border-radius: var(--ds-radius-md);
      border: var(--ds-border-width-1) solid;
      margin-bottom: var(--ds-space-4);
      display: flex;
      gap: var(--ds-space-3);
      align-items: flex-start;
    }

    .ds-alert--info {
      background: rgba(59, 130, 246, 0.1);
      border-color: var(--ds-info);
      color: var(--ds-info-emphasis);
    }

    .ds-alert--success {
      background: rgba(22, 163, 74, 0.1);
      border-color: var(--ds-success);
      color: var(--ds-success-emphasis);
    }

    .ds-alert--warning {
      background: rgba(245, 158, 11, 0.1);
      border-color: var(--ds-warning);
      color: var(--ds-warning-emphasis);
    }

    .ds-alert--danger {
      background: rgba(239, 68, 68, 0.1);
      border-color: var(--ds-danger);
      color: var(--ds-danger-emphasis);
    }

    /* ============================================
       BADGES & CHIPS
       ============================================ */

    .ds-badge {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: var(--ds-font-size-100);
      font-weight: var(--ds-font-weight-semibold);
      padding: var(--ds-space-1) var(--ds-space-2);
      border-radius: var(--ds-radius-sm);
      white-space: nowrap;
    }

    .ds-badge--primary {
      background: var(--ds-primary);
      color: var(--ds-primary-contrast);
    }

    .ds-badge--success {
      background: var(--ds-success);
      color: #ffffff;
    }

    .ds-badge--warning {
      background: var(--ds-warning);
      color: #000000;
    }

    .ds-badge--danger {
      background: var(--ds-danger);
      color: #ffffff;
    }

    /* ============================================
       TABLES
       ============================================ */

    .ds-table {
      width: 100%;
      border-collapse: collapse;
      font-size: var(--ds-font-size-200);
      background: var(--ds-surface);
      border: var(--ds-border-width-1) solid var(--ds-border);
      border-radius: var(--ds-radius-md);
      overflow: hidden;
    }

    .ds-table th {
      background: var(--ds-bg-muted);
      font-weight: var(--ds-font-weight-semibold);
      text-align: left;
      padding: var(--ds-space-3) var(--ds-space-4);
      border-bottom: var(--ds-border-width-1) solid var(--ds-border);
    }

    .ds-table td {
      padding: var(--ds-space-3) var(--ds-space-4);
      border-bottom: var(--ds-border-width-1) solid var(--ds-border);
    }

    .ds-table tbody tr:last-child td {
      border-bottom: none;
    }

    .ds-table tbody tr:hover {
      background: var(--ds-hover);
    }

    /* Token table styling */
    .ds-token-table {
      margin: var(--ds-space-6) 0;
    }

    .ds-token-swatch {
      display: inline-block;
      width: 32px;
      height: 32px;
      border-radius: var(--ds-radius-sm);
      border: var(--ds-border-width-1) solid var(--ds-border);
    }

    /* ============================================
       NAVIGATION
       ============================================ */

    .ds-nav {
      list-style: none;
    }

    .ds-nav-item {
      margin-bottom: var(--ds-space-1);
    }

    .ds-nav-link {
      display: block;
      padding: var(--ds-space-2) var(--ds-space-3);
      color: var(--ds-text);
      text-decoration: none;
      border-radius: var(--ds-radius-sm);
      transition: background var(--ds-duration-fast) var(--ds-ease-standard);
      font-size: var(--ds-font-size-200);
    }

    .ds-nav-link:hover {
      background: var(--ds-hover);
    }

    .ds-nav-link.active {
      background: var(--ds-primary);
      color: var(--ds-primary-contrast);
      font-weight: var(--ds-font-weight-semibold);
    }

    .ds-nav-section {
      margin-bottom: var(--ds-space-4);
    }

    .ds-nav-section-title {
      font-size: var(--ds-font-size-100);
      font-weight: var(--ds-font-weight-bold);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: var(--ds-text-muted);
      padding: var(--ds-space-2) var(--ds-space-3);
      margin-bottom: var(--ds-space-1);
    }

    /* Tabs */
    .ds-tabs {
      border-bottom: var(--ds-border-width-1) solid var(--ds-border);
      display: flex;
      gap: var(--ds-space-2);
      margin-bottom: var(--ds-space-4);
    }

    .ds-tab {
      padding: var(--ds-space-3) var(--ds-space-4);
      background: transparent;
      border: none;
      border-bottom: 2px solid transparent;
      cursor: pointer;
      font-size: var(--ds-font-size-200);
      font-weight: var(--ds-font-weight-medium);
      color: var(--ds-text-muted);
      transition: all var(--ds-duration-fast) var(--ds-ease-standard);
    }

    .ds-tab:hover {
      color: var(--ds-text);
    }

    .ds-tab.active {
      color: var(--ds-primary);
      border-bottom-color: var(--ds-primary);
    }

    .ds-tab-panel {
      display: none;
    }

    .ds-tab-panel.active {
      display: block;
    }

    /* Breadcrumbs */
    .ds-breadcrumbs {
      display: flex;
      align-items: center;
      gap: var(--ds-space-2);
      font-size: var(--ds-font-size-200);
      margin-bottom: var(--ds-space-4);
      flex-wrap: wrap;
    }

    .ds-breadcrumbs a {
      color: var(--ds-text-muted);
      text-decoration: none;
    }

    .ds-breadcrumbs a:hover {
      color: var(--ds-primary);
    }

    .ds-breadcrumbs-separator {
      color: var(--ds-text-muted);
    }

    /* Accordion */
    .ds-accordion {
      border: var(--ds-border-width-1) solid var(--ds-border);
      border-radius: var(--ds-radius-md);
      overflow: hidden;
    }

    .ds-accordion-item {
      border-bottom: var(--ds-border-width-1) solid var(--ds-border);
    }

    .ds-accordion-item:last-child {
      border-bottom: none;
    }

    .ds-accordion-header {
      width: 100%;
      padding: var(--ds-space-4);
      background: var(--ds-surface);
      border: none;
      text-align: left;
      font-size: var(--ds-font-size-300);
      font-weight: var(--ds-font-weight-semibold);
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: background var(--ds-duration-fast) var(--ds-ease-standard);
    }

    .ds-accordion-header:hover {
      background: var(--ds-hover);
    }

    .ds-accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height var(--ds-duration-normal) var(--ds-ease-standard);
    }

    .ds-accordion-content.open {
      max-height: 1000px;
    }

    .ds-accordion-body {
      padding: var(--ds-space-4);
      background: var(--ds-bg-muted);
    }

    /* ============================================
       MODAL & OVERLAY
       ============================================ */

    .ds-modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: var(--ds-z-modal);
      display: flex;
      align-items: center;
      justify-content: center;
      padding: var(--ds-space-4);
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--ds-duration-normal) var(--ds-ease-standard),
                  visibility var(--ds-duration-normal) var(--ds-ease-standard);
    }

    .ds-modal-overlay.open {
      opacity: 1;
      visibility: visible;
    }

    .ds-modal {
      background: var(--ds-surface);
      border-radius: var(--ds-radius-lg);
      box-shadow: var(--ds-shadow-5);
      max-width: 600px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      transform: scale(0.9);
      transition: transform var(--ds-duration-normal) var(--ds-ease-emphasized);
    }

    .ds-modal-overlay.open .ds-modal {
      transform: scale(1);
    }

    .ds-modal-header {
      padding: var(--ds-space-6);
      border-bottom: var(--ds-border-width-1) solid var(--ds-border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .ds-modal-title {
      font-size: var(--ds-font-size-600);
      font-weight: var(--ds-font-weight-bold);
      margin: 0;
    }

    .ds-modal-body {
      padding: var(--ds-space-6);
    }

    .ds-modal-footer {
      padding: var(--ds-space-6);
      border-top: var(--ds-border-width-1) solid var(--ds-border);
      display: flex;
      gap: var(--ds-space-3);
      justify-content: flex-end;
    }

    /* ============================================
       TOOLTIP
       ============================================ */

    .ds-tooltip {
      position: relative;
      display: inline-block;
    }

    .ds-tooltip-content {
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(-8px);
      background: var(--ds-text);
      color: var(--ds-bg);
      padding: var(--ds-space-2) var(--ds-space-3);
      border-radius: var(--ds-radius-sm);
      font-size: var(--ds-font-size-100);
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: opacity var(--ds-duration-fast) var(--ds-ease-standard),
                  visibility var(--ds-duration-fast) var(--ds-ease-standard);
      z-index: var(--ds-z-popover);
      pointer-events: none;
    }

    .ds-tooltip:hover .ds-tooltip-content,
    .ds-tooltip:focus-within .ds-tooltip-content {
      opacity: 1;
      visibility: visible;
    }

    /* ============================================
       PROGRESS
       ============================================ */

    .ds-progress {
      width: 100%;
      height: 8px;
      background: var(--ds-border);
      border-radius: var(--ds-radius-full);
      overflow: hidden;
    }

    .ds-progress-bar {
      height: 100%;
      background: var(--ds-primary);
      transition: width var(--ds-duration-normal) var(--ds-ease-standard);
    }

    /* ============================================
       SKELETON
       ============================================ */

    .ds-skeleton {
      background: linear-gradient(
        90deg,
        var(--ds-border) 0%,
        var(--ds-bg-muted) 50%,
        var(--ds-border) 100%
      );
      background-size: 200% 100%;
      animation: skeleton-loading 1.5s ease-in-out infinite;
      border-radius: var(--ds-radius-sm);
    }

    @keyframes skeleton-loading {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    .ds-skeleton-text {
      height: 1em;
      margin-bottom: var(--ds-space-2);
    }

    .ds-skeleton-title {
      height: 2em;
      width: 60%;
      margin-bottom: var(--ds-space-3);
    }

    .ds-skeleton-avatar {
      width: 48px;
      height: 48px;
      border-radius: var(--ds-radius-full);
    }

    /* ============================================
       COMPONENT EXAMPLES
       ============================================ */

    .ds-example {
      padding: var(--ds-space-6);
      background: var(--ds-surface);
      border: var(--ds-border-width-1) solid var(--ds-border);
      border-radius: var(--ds-radius-lg);
      margin: var(--ds-space-4) 0;
    }

    .ds-example-controls {
      margin-top: var(--ds-space-4);
      padding-top: var(--ds-space-4);
      border-top: var(--ds-border-width-1) solid var(--ds-border);
      display: flex;
      gap: var(--ds-space-3);
      flex-wrap: wrap;
    }

    .ds-code-block {
      position: relative;
      margin: var(--ds-space-4) 0;
    }

    .ds-code-block-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: var(--ds-space-3) var(--ds-space-4);
      background: var(--ds-bg-muted);
      border: var(--ds-border-width-1) solid var(--ds-border);
      border-bottom: none;
      border-radius: var(--ds-radius-md) var(--ds-radius-md) 0 0;
    }

    .ds-code-block pre {
      margin: 0;
      border-radius: 0 0 var(--ds-radius-md) var(--ds-radius-md);
    }

    .ds-copy-btn {
      padding: var(--ds-space-1) var(--ds-space-2);
      font-size: var(--ds-font-size-100);
    }

    /* ============================================
       UTILITY CLASSES
       ============================================ */

    /* Spacing */
    .mt-0 { margin-top: var(--ds-space-0); }
    .mt-2 { margin-top: var(--ds-space-2); }
    .mt-4 { margin-top: var(--ds-space-4); }
    .mt-6 { margin-top: var(--ds-space-6); }
    .mt-8 { margin-top: var(--ds-space-8); }

    .mb-0 { margin-bottom: var(--ds-space-0); }
    .mb-2 { margin-bottom: var(--ds-space-2); }
    .mb-4 { margin-bottom: var(--ds-space-4); }
    .mb-6 { margin-bottom: var(--ds-space-6); }
    .mb-8 { margin-bottom: var(--ds-space-8); }

    /* Display */
    .flex { display: flex; }
    .inline-flex { display: inline-flex; }
    .grid { display: grid; }
    .hidden { display: none; }

    /* Flex utilities */
    .flex-row { flex-direction: row; }
    .flex-col { flex-direction: column; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .justify-between { justify-content: space-between; }
    .gap-2 { gap: var(--ds-space-2); }
    .gap-4 { gap: var(--ds-space-4); }

    /* Text */
    .text-center { text-align: center; }
    .text-muted { color: var(--ds-text-muted); }
    .font-bold { font-weight: var(--ds-font-weight-bold); }

    /* Brand/Header styles */
    .ds-brand {
      font-size: var(--ds-font-size-500);
      font-weight: var(--ds-font-weight-bold);
      color: var(--ds-primary);
      text-decoration: none;
    }

    .ds-header-controls {
      display: flex;
      gap: var(--ds-space-3);
      align-items: center;
    }
  </style>
</head>
<body>
  <!-- SVG Icon Sprite -->
  <svg style="display: none;" aria-hidden="true">
    <symbol id="icon-moon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </symbol>
    <symbol id="icon-sun" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </symbol>
    <symbol id="icon-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="20 6 9 17 4 12"></polyline>
    </symbol>
    <symbol id="icon-copy" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
    </symbol>
    <symbol id="icon-chevron-down" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <polyline points="6 9 12 15 18 9"></polyline>
    </symbol>
    <symbol id="icon-x" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <line x1="18" y1="6" x2="6" y2="18"></line>
      <line x1="6" y1="6" x2="18" y2="18"></line>
    </symbol>
    <symbol id="icon-info" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="16" x2="12" y2="12"></line>
      <line x1="12" y1="8" x2="12.01" y2="8"></line>
    </symbol>
    <symbol id="icon-alert-triangle" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
      <line x1="12" y1="9" x2="12" y2="13"></line>
      <line x1="12" y1="17" x2="12.01" y2="17"></line>
    </symbol>
  </svg>

  <div class="ds-layout">
    <!-- Header -->
    <header class="ds-header" role="banner">
      <a href="#" class="ds-brand">Design System</a>

      <div class="ds-header-controls">
        <label class="ds-switch" aria-label="Toggle theme">
          <input type="checkbox" id="theme-toggle" aria-label="Dark mode">
          <span class="ds-switch-track">
            <span class="ds-switch-thumb"></span>
          </span>
          <span>Dark</span>
        </label>

        <label class="ds-switch" aria-label="Toggle density">
          <input type="checkbox" id="density-toggle" aria-label="Compact mode">
          <span class="ds-switch-track">
            <span class="ds-switch-thumb"></span>
          </span>
          <span>Compact</span>
        </label>
      </div>
    </header>

    <!-- Sidebar Navigation -->
    <nav class="ds-sidebar" role="navigation" aria-label="Main navigation">
      <div class="ds-nav-section">
        <div class="ds-nav-section-title">Foundations</div>
        <ul class="ds-nav">
          <li class="ds-nav-item"><a href="#intro" class="ds-nav-link">Introduction</a></li>
          <li class="ds-nav-item"><a href="#colors" class="ds-nav-link">Colors</a></li>
          <li class="ds-nav-item"><a href="#typography" class="ds-nav-link">Typography</a></li>
          <li class="ds-nav-item"><a href="#spacing" class="ds-nav-link">Spacing</a></li>
          <li class="ds-nav-item"><a href="#elevation" class="ds-nav-link">Elevation</a></li>
        </ul>
      </div>

      <div class="ds-nav-section">
        <div class="ds-nav-section-title">Components</div>
        <ul class="ds-nav">
          <li class="ds-nav-item"><a href="#buttons" class="ds-nav-link">Buttons</a></li>
          <li class="ds-nav-item"><a href="#inputs" class="ds-nav-link">Inputs</a></li>
          <li class="ds-nav-item"><a href="#cards" class="ds-nav-link">Cards</a></li>
          <li class="ds-nav-item"><a href="#alerts" class="ds-nav-link">Alerts</a></li>
          <li class="ds-nav-item"><a href="#badges" class="ds-nav-link">Badges</a></li>
          <li class="ds-nav-item"><a href="#tables" class="ds-nav-link">Tables</a></li>
          <li class="ds-nav-item"><a href="#modals" class="ds-nav-link">Modals</a></li>
          <li class="ds-nav-item"><a href="#tabs" class="ds-nav-link">Tabs</a></li>
          <li class="ds-nav-item"><a href="#accordion" class="ds-nav-link">Accordion</a></li>
        </ul>
      </div>

      <div class="ds-nav-section">
        <div class="ds-nav-section-title">Patterns</div>
        <ul class="ds-nav">
          <li class="ds-nav-item"><a href="#forms" class="ds-nav-link">Forms</a></li>
          <li class="ds-nav-item"><a href="#dashboard" class="ds-nav-link">Dashboard</a></li>
        </ul>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="ds-main" role="main">
      <!-- Introduction -->
      <section id="intro" data-ds-docs-section="intro">
        <h1>Design System Documentation</h1>
        <p class="text-muted">A comprehensive, accessible, and themeable design system for modern web applications.</p>

        <div class="ds-alert ds-alert--info">
          <svg width="24" height="24"><use href="#icon-info"></use></svg>
          <div>
            <strong>Getting Started:</strong> This design system is built with accessibility, theming, and developer experience in mind. All components meet WCAG 2.2 AA standards.
          </div>
        </div>

        <h2>Features</h2>
        <ul>
          <li>Complete design token system with CSS custom properties</li>
          <li>Light and dark themes with high-contrast mode support</li>
          <li>Comprehensive component library with live examples</li>
          <li>WCAG 2.2 AA compliant with keyboard navigation</li>
          <li>RTL support and reduced motion preferences</li>
          <li>LLM-friendly with structured directive system</li>
        </ul>
      </section>

      <!-- Colors -->
      <section id="colors" data-ds-docs-section="foundations/colors">
        <h2>Colors</h2>
        <p>Our color system uses semantic tokens to ensure consistent theming across all components.</p>

        <h3>Semantic Colors</h3>
        <table class="ds-table ds-token-table">
          <thead>
            <tr>
              <th>Token</th>
              <th>Purpose</th>
              <th>Sample</th>
            </tr>
          </thead>
          <tbody>
            <tr data-ds-token="--ds-primary">
              <td><code>--ds-primary</code></td>
              <td>Primary brand color for actions and links</td>
              <td><span class="ds-token-swatch" style="background: var(--ds-primary);"></span></td>
            </tr>
            <tr data-ds-token="--ds-success">
              <td><code>--ds-success</code></td>
              <td>Success states and positive feedback</td>
              <td><span class="ds-token-swatch" style="background: var(--ds-success);"></span></td>
            </tr>
            <tr data-ds-token="--ds-warning">
              <td><code>--ds-warning</code></td>
              <td>Warning states and cautionary messages</td>
              <td><span class="ds-token-swatch" style="background: var(--ds-warning);"></span></td>
            </tr>
            <tr data-ds-token="--ds-danger">
              <td><code>--ds-danger</code></td>
              <td>Error states and destructive actions</td>
              <td><span class="ds-token-swatch" style="background: var(--ds-danger);"></span></td>
            </tr>
            <tr data-ds-token="--ds-info">
              <td><code>--ds-info</code></td>
              <td>Informational messages and hints</td>
              <td><span class="ds-token-swatch" style="background: var(--ds-info);"></span></td>
            </tr>
          </tbody>
        </table>

        <!-- LLM:DIRECTIVE
        {
          "id": "color-tokens-table",
          "target": "docs",
          "action": "define",
          "path": "#colors table",
          "rationale": "Semantic color tokens with live swatches for documentation"
        }
        -->

        <h3>Accessibility</h3>
        <div class="ds-alert ds-alert--success">
          <svg width="24" height="24"><use href="#icon-check"></use></svg>
          <div>All semantic color pairs meet WCAG 2.2 AA contrast requirements (4.5:1 for normal text, 3:1 for large text and icons).</div>
        </div>
      </section>

      <!-- Typography -->
      <section id="typography" data-ds-docs-section="foundations/typography">
        <h2>Typography</h2>
        <p>Our type scale is built on a modular system that ensures hierarchy and readability.</p>

        <div class="ds-example" data-ds-component="typography">
          <h1>Heading 1 - 36px</h1>
          <h2>Heading 2 - 30px</h2>
          <h3>Heading 3 - 24px</h3>
          <h4>Heading 4 - 20px</h4>
          <h5>Heading 5 - 18px</h5>
          <h6>Heading 6 - 16px</h6>
          <p>Body text - 16px with 1.5 line height for optimal readability across all devices.</p>
        </div>

        <h3>Font Tokens</h3>
        <table class="ds-table ds-token-table">
          <thead>
            <tr>
              <th>Token</th>
              <th>Size</th>
              <th>Use Case</th>
            </tr>
          </thead>
          <tbody>
            <tr data-ds-token="--ds-font-size-100">
              <td><code>--ds-font-size-100</code></td>
              <td>12px</td>
              <td>Captions, helper text</td>
            </tr>
            <tr data-ds-token="--ds-font-size-200">
              <td><code>--ds-font-size-200</code></td>
              <td>14px</td>
              <td>Small UI text, labels</td>
            </tr>
            <tr data-ds-token="--ds-font-size-300">
              <td><code>--ds-font-size-300</code></td>
              <td>16px</td>
              <td>Body text, paragraphs</td>
            </tr>
            <tr data-ds-token="--ds-font-size-500">
              <td><code>--ds-font-size-500</code></td>
              <td>20px</td>
              <td>Subheadings, card titles</td>
            </tr>
            <tr data-ds-token="--ds-font-size-800">
              <td><code>--ds-font-size-800</code></td>
              <td>36px</td>
              <td>Page headings</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Spacing -->
      <section id="spacing" data-ds-docs-section="foundations/spacing">
        <h2>Spacing</h2>
        <p>Consistent spacing creates visual rhythm and hierarchy. Our spacing scale is based on a 4px base unit.</p>

        <table class="ds-table ds-token-table">
          <thead>
            <tr>
              <th>Token</th>
              <th>Value</th>
              <th>Visual</th>
            </tr>
          </thead>
          <tbody>
            <tr data-ds-token="--ds-space-1">
              <td><code>--ds-space-1</code></td>
              <td>4px</td>
              <td><div style="width: 4px; height: 20px; background: var(--ds-primary);"></div></td>
            </tr>
            <tr data-ds-token="--ds-space-2">
              <td><code>--ds-space-2</code></td>
              <td>8px</td>
              <td><div style="width: 8px; height: 20px; background: var(--ds-primary);"></div></td>
            </tr>
            <tr data-ds-token="--ds-space-4">
              <td><code>--ds-space-4</code></td>
              <td>16px</td>
              <td><div style="width: 16px; height: 20px; background: var(--ds-primary);"></div></td>
            </tr>
            <tr data-ds-token="--ds-space-6">
              <td><code>--ds-space-6</code></td>
              <td>24px</td>
              <td><div style="width: 24px; height: 20px; background: var(--ds-primary);"></div></td>
            </tr>
            <tr data-ds-token="--ds-space-8">
              <td><code>--ds-space-8</code></td>
              <td>32px</td>
              <td><div style="width: 32px; height: 20px; background: var(--ds-primary);"></div></td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Elevation -->
      <section id="elevation" data-ds-docs-section="foundations/elevation">
        <h2>Elevation</h2>
        <p>Shadows create depth and hierarchy, helping users understand layering and focus.</p>

        <div class="ds-example" data-ds-component="elevation">
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: var(--ds-space-6);">
            <div style="padding: var(--ds-space-6); background: var(--ds-surface); border-radius: var(--ds-radius-md); box-shadow: var(--ds-shadow-1);">
              <div class="text-muted">shadow-1</div>
            </div>
            <div style="padding: var(--ds-space-6); background: var(--ds-surface); border-radius: var(--ds-radius-md); box-shadow: var(--ds-shadow-2);">
              <div class="text-muted">shadow-2</div>
            </div>
            <div style="padding: var(--ds-space-6); background: var(--ds-surface); border-radius: var(--ds-radius-md); box-shadow: var(--ds-shadow-3);">
              <div class="text-muted">shadow-3</div>
            </div>
            <div style="padding: var(--ds-space-6); background: var(--ds-surface); border-radius: var(--ds-radius-md); box-shadow: var(--ds-shadow-4);">
              <div class="text-muted">shadow-4</div>
            </div>
            <div style="padding: var(--ds-space-6); background: var(--ds-surface); border-radius: var(--ds-radius-md); box-shadow: var(--ds-shadow-5);">
              <div class="text-muted">shadow-5</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Buttons -->
      <section id="buttons" data-ds-docs-section="components/button">
        <h2>Buttons</h2>
        <p>Buttons trigger actions and are one of the most important interactive elements.</p>

        <h3>Variants</h3>
        <div class="ds-example" data-ds-component="button" data-variant="all">
          <div style="display: flex; gap: var(--ds-space-3); flex-wrap: wrap; align-items: center;">
            <button class="ds-btn ds-btn--primary">Primary</button>
            <button class="ds-btn ds-btn--secondary">Secondary</button>
            <button class="ds-btn ds-btn--outline">Outline</button>
            <button class="ds-btn ds-btn--ghost">Ghost</button>
            <button class="ds-btn ds-btn--danger">Danger</button>
            <button class="ds-btn ds-btn--primary" disabled>Disabled</button>
          </div>
        </div>

        <div class="ds-code-block">
          <div class="ds-code-block-header">
            <span>HTML</span>
            <button class="ds-btn ds-btn--ghost ds-btn--sm ds-copy-btn" data-copy-target="button-code">
              <svg width="16" height="16"><use href="#icon-copy"></use></svg>
              Copy
            </button>
          </div>
          <pre id="button-code"><code>&lt;button class="ds-btn ds-btn--primary"&gt;Primary&lt;/button&gt;
&lt;button class="ds-btn ds-btn--secondary"&gt;Secondary&lt;/button&gt;
&lt;button class="ds-btn ds-btn--outline"&gt;Outline&lt;/button&gt;
&lt;button class="ds-btn ds-btn--ghost"&gt;Ghost&lt;/button&gt;
&lt;button class="ds-btn ds-btn--danger"&gt;Danger&lt;/button&gt;</code></pre>
        </div>

        <!-- LLM:DIRECTIVE
        {
          "id": "button-component-primary",
          "target": "component",
          "action": "define",
          "path": ".ds-btn--primary",
          "rationale": "Primary button uses semantic color tokens for consistent theming"
        }
        -->

        <h3>Sizes</h3>
        <div class="ds-example" data-ds-component="button" data-variant="sizes">
          <div style="display: flex; gap: var(--ds-space-3); align-items: center; flex-wrap: wrap;">
            <button class="ds-btn ds-btn--primary ds-btn--sm">Small</button>
            <button class="ds-btn ds-btn--primary">Medium</button>
            <button class="ds-btn ds-btn--primary ds-btn--lg">Large</button>
          </div>
        </div>

        <h3>Accessibility</h3>
        <ul>
          <li><strong>Keyboard:</strong> Tab to focus, Enter or Space to activate</li>
          <li><strong>Focus:</strong> Visible focus ring using <code>--ds-focus-ring</code></li>
          <li><strong>Target size:</strong> Minimum 40px height (meets 44px target with padding)</li>
          <li><strong>ARIA:</strong> Use <code>aria-label</code> for icon-only buttons</li>
        </ul>
      </section>

      <!-- Inputs -->
      <section id="inputs" data-ds-docs-section="components/input">
        <h2>Inputs & Forms</h2>
        <p>Form controls allow users to enter and edit information.</p>

        <h3>Text Input</h3>
        <div class="ds-example" data-ds-component="input">
          <div class="ds-form-group">
            <label class="ds-label" for="demo-input">Email address</label>
            <input type="email" id="demo-input" class="ds-input" placeholder="you@example.com">
            <div class="ds-helper-text">We'll never share your email.</div>
          </div>

          <div class="ds-form-group">
            <label class="ds-label" for="demo-input-error">Username (with error)</label>
            <input type="text" id="demo-input-error" class="ds-input" value="ab" aria-invalid="true" aria-describedby="username-error">
            <div class="ds-error-text" id="username-error">Username must be at least 3 characters.</div>
          </div>
        </div>

        <h3>Textarea</h3>
        <div class="ds-example" data-ds-component="textarea">
          <div class="ds-form-group">
            <label class="ds-label" for="demo-textarea">Message</label>
            <textarea id="demo-textarea" class="ds-textarea" placeholder="Enter your message..."></textarea>
          </div>
        </div>

        <h3>Select</h3>
        <div class="ds-example" data-ds-component="select">
          <div class="ds-form-group">
            <label class="ds-label" for="demo-select">Country</label>
            <select id="demo-select" class="ds-select">
              <option>United States</option>
              <option>Canada</option>
              <option>United Kingdom</option>
              <option>Australia</option>
            </select>
          </div>
        </div>

        <h3>Checkbox & Radio</h3>
        <div class="ds-example" data-ds-component="checkbox">
          <div style="display: flex; flex-direction: column; gap: var(--ds-space-3);">
            <label class="ds-checkbox">
              <input type="checkbox" checked>
              <span class="ds-checkbox-box"></span>
              <span>I agree to the terms and conditions</span>
            </label>

            <label class="ds-checkbox">
              <input type="checkbox">
              <span class="ds-checkbox-box"></span>
              <span>Subscribe to newsletter</span>
            </label>

            <hr style="border: none; border-top: var(--ds-border-width-1) solid var(--ds-border); margin: var(--ds-space-2) 0;">

            <label class="ds-radio">
              <input type="radio" name="plan" checked>
              <span class="ds-radio-box"></span>
              <span>Free plan</span>
            </label>

            <label class="ds-radio">
              <input type="radio" name="plan">
              <span class="ds-radio-box"></span>
              <span>Pro plan</span>
            </label>
          </div>
        </div>

        <h3>Switch</h3>
        <div class="ds-example" data-ds-component="switch">
          <div style="display: flex; flex-direction: column; gap: var(--ds-space-3);">
            <label class="ds-switch">
              <input type="checkbox" checked>
              <span class="ds-switch-track">
                <span class="ds-switch-thumb"></span>
              </span>
              <span>Enable notifications</span>
            </label>

            <label class="ds-switch">
              <input type="checkbox">
              <span class="ds-switch-track">
                <span class="ds-switch-thumb"></span>
              </span>
              <span>Auto-save changes</span>
            </label>
          </div>
        </div>

        <h3>Accessibility</h3>
        <ul>
          <li><strong>Labels:</strong> All inputs must have associated labels using <code>for</code> and <code>id</code></li>
          <li><strong>Error states:</strong> Use <code>aria-invalid</code> and <code>aria-describedby</code> to link error messages</li>
          <li><strong>Required fields:</strong> Use <code>required</code> attribute and visual indicator</li>
          <li><strong>Focus:</strong> Visible focus ring on all interactive controls</li>
        </ul>
      </section>

      <!-- Cards -->
      <section id="cards" data-ds-docs-section="components/card">
        <h2>Cards</h2>
        <p>Cards contain content and actions about a single subject.</p>

        <div class="ds-example" data-ds-component="card">
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--ds-space-4);">
            <div class="ds-card">
              <div class="ds-card-header">
                <h3 class="ds-card-title">Card Title</h3>
                <div class="ds-card-subtitle">Card subtitle text</div>
              </div>
              <p>This is some example content inside a card. Cards are versatile containers for grouping related information.</p>
              <div style="margin-top: var(--ds-space-4); display: flex; gap: var(--ds-space-2);">
                <button class="ds-btn ds-btn--primary ds-btn--sm">Action</button>
                <button class="ds-btn ds-btn--ghost ds-btn--sm">Cancel</button>
              </div>
            </div>

            <div class="ds-card">
              <div class="ds-card-header">
                <h3 class="ds-card-title">Another Card</h3>
                <div class="ds-card-subtitle">With a badge</div>
              </div>
              <span class="ds-badge ds-badge--success">New</span>
              <p style="margin-top: var(--ds-space-3);">Cards automatically adapt to dark mode and maintain proper contrast ratios.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Alerts -->
      <section id="alerts" data-ds-docs-section="components/alert">
        <h2>Alerts</h2>
        <p>Alerts provide important messages and feedback to users.</p>

        <div class="ds-example" data-ds-component="alert" data-variant="all">
          <div class="ds-alert ds-alert--info">
            <svg width="24" height="24"><use href="#icon-info"></use></svg>
            <div>
              <strong>Info:</strong> This is an informational message with additional context.
            </div>
          </div>

          <div class="ds-alert ds-alert--success">
            <svg width="24" height="24"><use href="#icon-check"></use></svg>
            <div>
              <strong>Success:</strong> Your changes have been saved successfully.
            </div>
          </div>

          <div class="ds-alert ds-alert--warning">
            <svg width="24" height="24"><use href="#icon-alert-triangle"></use></svg>
            <div>
              <strong>Warning:</strong> Please review your information before continuing.
            </div>
          </div>

          <div class="ds-alert ds-alert--danger">
            <svg width="24" height="24"><use href="#icon-x"></use></svg>
            <div>
              <strong>Error:</strong> An error occurred while processing your request.
            </div>
          </div>
        </div>
      </section>

      <!-- Badges -->
      <section id="badges" data-ds-docs-section="components/badge">
        <h2>Badges</h2>
        <p>Badges display status, counts, or labels in a compact format.</p>

        <div class="ds-example" data-ds-component="badge">
          <div style="display: flex; gap: var(--ds-space-3); flex-wrap: wrap; align-items: center;">
            <span class="ds-badge ds-badge--primary">Primary</span>
            <span class="ds-badge ds-badge--success">Success</span>
            <span class="ds-badge ds-badge--warning">Warning</span>
            <span class="ds-badge ds-badge--danger">Danger</span>
          </div>

          <div style="margin-top: var(--ds-space-4);">
            <button class="ds-btn ds-btn--primary">
              Messages
              <span class="ds-badge ds-badge--danger">5</span>
            </button>
          </div>
        </div>
      </section>

      <!-- Tables -->
      <section id="tables" data-ds-docs-section="components/table">
        <h2>Tables</h2>
        <p>Tables display data in rows and columns for easy scanning and comparison.</p>

        <div class="ds-example" data-ds-component="table">
          <table class="ds-table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>John Doe</td>
                <td>john@example.com</td>
                <td>Developer</td>
                <td><span class="ds-badge ds-badge--success">Active</span></td>
              </tr>
              <tr>
                <td>Jane Smith</td>
                <td>jane@example.com</td>
                <td>Designer</td>
                <td><span class="ds-badge ds-badge--success">Active</span></td>
              </tr>
              <tr>
                <td>Bob Johnson</td>
                <td>bob@example.com</td>
                <td>Manager</td>
                <td><span class="ds-badge ds-badge--warning">Pending</span></td>
              </tr>
            </tbody>
          </table>
        </div>

        <h3>Accessibility</h3>
        <ul>
          <li><strong>Headers:</strong> Always use <code>&lt;th&gt;</code> for column headers</li>
          <li><strong>Scope:</strong> Add <code>scope="col"</code> or <code>scope="row"</code> for complex tables</li>
          <li><strong>Caption:</strong> Use <code>&lt;caption&gt;</code> to describe the table's purpose</li>
        </ul>
      </section>

      <!-- Modals -->
      <section id="modals" data-ds-docs-section="components/modal">
        <h2>Modals</h2>
        <p>Modals focus user attention on a specific task or information.</p>

        <div class="ds-example" data-ds-component="modal">
          <button class="ds-btn ds-btn--primary" onclick="window.DS.openModal('demo-modal')">
            Open Modal
          </button>
        </div>

        <h3>Accessibility</h3>
        <ul>
          <li><strong>Focus trap:</strong> Focus should be trapped within the modal</li>
          <li><strong>Escape key:</strong> Pressing Esc should close the modal</li>
          <li><strong>ARIA:</strong> Use <code>role="dialog"</code> and <code>aria-modal="true"</code></li>
          <li><strong>Focus management:</strong> Focus first interactive element when opened, restore focus when closed</li>
        </ul>
      </section>

      <!-- Tabs -->
      <section id="tabs" data-ds-docs-section="components/tabs">
        <h2>Tabs</h2>
        <p>Tabs organize content into separate views where only one view is visible at a time.</p>

        <div class="ds-example" data-ds-component="tabs">
          <div class="ds-tabs" role="tablist">
            <button class="ds-tab active" role="tab" aria-selected="true" aria-controls="tab-panel-1" id="tab-1" onclick="window.DS.switchTab('demo-tabs', 0)">
              Overview
            </button>
            <button class="ds-tab" role="tab" aria-selected="false" aria-controls="tab-panel-2" id="tab-2" onclick="window.DS.switchTab('demo-tabs', 1)">
              Details
            </button>
            <button class="ds-tab" role="tab" aria-selected="false" aria-controls="tab-panel-3" id="tab-3" onclick="window.DS.switchTab('demo-tabs', 2)">
              Settings
            </button>
          </div>

          <div id="demo-tabs">
            <div class="ds-tab-panel active" role="tabpanel" aria-labelledby="tab-1" id="tab-panel-1">
              <h4>Overview Content</h4>
              <p>This is the overview tab content. It provides a high-level summary.</p>
            </div>
            <div class="ds-tab-panel" role="tabpanel" aria-labelledby="tab-2" id="tab-panel-2" hidden>
              <h4>Details Content</h4>
              <p>This tab shows detailed information and specifications.</p>
            </div>
            <div class="ds-tab-panel" role="tabpanel" aria-labelledby="tab-3" id="tab-panel-3" hidden>
              <h4>Settings Content</h4>
              <p>Configure preferences and options here.</p>
            </div>
          </div>
        </div>

        <h3>Accessibility</h3>
        <ul>
          <li><strong>Keyboard:</strong> Arrow keys navigate between tabs, Tab moves focus out</li>
          <li><strong>ARIA:</strong> Use <code>role="tablist"</code>, <code>role="tab"</code>, and <code>role="tabpanel"</code></li>
          <li><strong>State:</strong> Use <code>aria-selected</code> to indicate active tab</li>
        </ul>
      </section>

      <!-- Accordion -->
      <section id="accordion" data-ds-docs-section="components/accordion">
        <h2>Accordion</h2>
        <p>Accordions allow users to expand and collapse sections of content.</p>

        <div class="ds-example" data-ds-component="accordion">
          <div class="ds-accordion">
            <div class="ds-accordion-item">
              <button class="ds-accordion-header" onclick="window.DS.toggleAccordion(this)" aria-expanded="false">
                <span>What is a design system?</span>
                <svg width="20" height="20"><use href="#icon-chevron-down"></use></svg>
              </button>
              <div class="ds-accordion-content">
                <div class="ds-accordion-body">
                  A design system is a collection of reusable components, guided by clear standards, that can be assembled together to build applications.
                </div>
              </div>
            </div>

            <div class="ds-accordion-item">
              <button class="ds-accordion-header" onclick="window.DS.toggleAccordion(this)" aria-expanded="false">
                <span>Why use design tokens?</span>
                <svg width="20" height="20"><use href="#icon-chevron-down"></use></svg>
              </button>
              <div class="ds-accordion-content">
                <div class="ds-accordion-body">
                  Design tokens provide a single source of truth for design decisions, making it easy to maintain consistency and update designs across your entire application.
                </div>
              </div>
            </div>

            <div class="ds-accordion-item">
              <button class="ds-accordion-header" onclick="window.DS.toggleAccordion(this)" aria-expanded="false">
                <span>How do I customize themes?</span>
                <svg width="20" height="20"><use href="#icon-chevron-down"></use></svg>
              </button>
              <div class="ds-accordion-content">
                <div class="ds-accordion-body">
                  Override CSS custom properties in a <code>[data-theme="your-theme"]</code> selector. All components will automatically use the new values.
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Forms Pattern -->
      <section id="forms" data-ds-docs-section="patterns/forms">
        <h2>Form Patterns</h2>
        <p>Common patterns for building accessible, user-friendly forms.</p>

        <div class="ds-example" data-ds-component="form">
          <form onsubmit="event.preventDefault(); alert('Form submitted!');">
            <div class="ds-form-group">
              <label class="ds-label" for="form-name">
                Full Name <span style="color: var(--ds-danger);">*</span>
              </label>
              <input type="text" id="form-name" class="ds-input" required>
            </div>

            <div class="ds-form-group">
              <label class="ds-label" for="form-email">
                Email Address <span style="color: var(--ds-danger);">*</span>
              </label>
              <input type="email" id="form-email" class="ds-input" required>
              <div class="ds-helper-text">We'll use this to contact you.</div>
            </div>

            <div class="ds-form-group">
              <label class="ds-label" for="form-message">Message</label>
              <textarea id="form-message" class="ds-textarea"></textarea>
            </div>

            <div class="ds-form-group">
              <label class="ds-checkbox">
                <input type="checkbox" required>
                <span class="ds-checkbox-box"></span>
                <span>I agree to the terms and conditions <span style="color: var(--ds-danger);">*</span></span>
              </label>
            </div>

            <div style="display: flex; gap: var(--ds-space-3);">
              <button type="submit" class="ds-btn ds-btn--primary">Submit</button>
              <button type="reset" class="ds-btn ds-btn--ghost">Reset</button>
            </div>
          </form>
        </div>
      </section>

      <!-- Dashboard Pattern -->
      <section id="dashboard" data-ds-docs-section="patterns/dashboard">
        <h2>Dashboard Pattern</h2>
        <p>A common layout pattern for data-rich applications.</p>

        <div class="ds-example" data-ds-component="dashboard">
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--ds-space-4); margin-bottom: var(--ds-space-6);">
            <div class="ds-card">
              <div class="text-muted" style="font-size: var(--ds-font-size-100); margin-bottom: var(--ds-space-2);">Total Users</div>
              <div style="font-size: var(--ds-font-size-700); font-weight: var(--ds-font-weight-bold);">12,345</div>
              <div style="margin-top: var(--ds-space-2);">
                <span class="ds-badge ds-badge--success">+12% from last month</span>
              </div>
            </div>

            <div class="ds-card">
              <div class="text-muted" style="font-size: var(--ds-font-size-100); margin-bottom: var(--ds-space-2);">Revenue</div>
              <div style="font-size: var(--ds-font-size-700); font-weight: var(--ds-font-weight-bold);">$45,678</div>
              <div style="margin-top: var(--ds-space-2);">
                <span class="ds-badge ds-badge--success">+8% from last month</span>
              </div>
            </div>

            <div class="ds-card">
              <div class="text-muted" style="font-size: var(--ds-font-size-100); margin-bottom: var(--ds-space-2);">Active Projects</div>
              <div style="font-size: var(--ds-font-size-700); font-weight: var(--ds-font-weight-bold);">23</div>
              <div style="margin-top: var(--ds-space-2);">
                <span class="ds-badge ds-badge--primary">In progress</span>
              </div>
            </div>
          </div>

          <div class="ds-card">
            <h3 style="margin-bottom: var(--ds-space-4);">Recent Activity</h3>
            <table class="ds-table">
              <thead>
                <tr>
                  <th>User</th>
                  <th>Action</th>
                  <th>Date</th>
                  <th>Status</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Alice Johnson</td>
                  <td>Created new project</td>
                  <td>2025-11-10</td>
                  <td><span class="ds-badge ds-badge--success">Completed</span></td>
                </tr>
                <tr>
                  <td>Bob Smith</td>
                  <td>Updated settings</td>
                  <td>2025-11-09</td>
                  <td><span class="ds-badge ds-badge--success">Completed</span></td>
                </tr>
                <tr>
                  <td>Carol Williams</td>
                  <td>Uploaded files</td>
                  <td>2025-11-08</td>
                  <td><span class="ds-badge ds-badge--warning">Pending</span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Footer info -->
      <section style="margin-top: var(--ds-space-16);">
        <h2>About This Design System</h2>
        <p><strong>Version:</strong> 1.0.0</p>
        <p><strong>Generated:</strong> 2025-11-11</p>
        <p><strong>License:</strong> MIT License - Free to use and modify</p>

        <div class="ds-alert ds-alert--info">
          <svg width="24" height="24"><use href="#icon-info"></use></svg>
          <div>
            This design system supports LLM directives for programmatic modifications. Use the structured comment format to update tokens, components, or themes.
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="ds-footer" role="contentinfo">
      <p>Modern Design System v1.0.0 | Generated 2025-11-11 | MIT License</p>
      <p>Built with accessibility, theming, and developer experience in mind</p>
    </footer>
  </div>

  <!-- Modal (hidden by default) -->
  <div class="ds-modal-overlay" id="demo-modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="ds-modal">
      <div class="ds-modal-header">
        <h2 class="ds-modal-title" id="modal-title">Modal Title</h2>
        <button class="ds-btn ds-btn--ghost ds-btn--icon" onclick="window.DS.closeModal('demo-modal')" aria-label="Close modal">
          <svg width="20" height="20"><use href="#icon-x"></use></svg>
        </button>
      </div>
      <div class="ds-modal-body">
        <p>This is a modal dialog. It overlays the main content and requires user interaction before returning to the main interface.</p>
        <p>Press Escape or click outside to close.</p>
      </div>
      <div class="ds-modal-footer">
        <button class="ds-btn ds-btn--ghost" onclick="window.DS.closeModal('demo-modal')">Cancel</button>
        <button class="ds-btn ds-btn--primary" onclick="window.DS.closeModal('demo-modal')">Confirm</button>
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // Design System namespace
    window.DS = (function() {
      'use strict';

      // Utility: Get element(s)
      const $ = (selector, context = document) => context.querySelector(selector);
      const $$ = (selector, context = document) => Array.from(context.querySelectorAll(selector));

      // Utility: Check reduced motion preference
      const prefersReducedMotion = () => window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // Initialize theme from localStorage
      function initTheme() {
        const savedTheme = localStorage.getItem('ds-theme') || 'light';
        const savedDensity = localStorage.getItem('ds-density') || 'comfortable';

        document.documentElement.setAttribute('data-theme', savedTheme);
        document.documentElement.setAttribute('data-density', savedDensity);

        const themeToggle = $('#theme-toggle');
        const densityToggle = $('#density-toggle');

        if (themeToggle) themeToggle.checked = savedTheme === 'dark';
        if (densityToggle) densityToggle.checked = savedDensity === 'compact';
      }

      // Apply theme
      function applyTheme(theme) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('ds-theme', theme);
      }

      // Apply density
      function applyDensity(density) {
        document.documentElement.setAttribute('data-density', density);
        localStorage.setItem('ds-density', density);
      }

      // Theme toggle handler
      function setupThemeToggle() {
        const toggle = $('#theme-toggle');
        if (!toggle) return;

        toggle.addEventListener('change', (e) => {
          applyTheme(e.target.checked ? 'dark' : 'light');
        });
      }

      // Density toggle handler
      function setupDensityToggle() {
        const toggle = $('#density-toggle');
        if (!toggle) return;

        toggle.addEventListener('change', (e) => {
          applyDensity(e.target.checked ? 'compact' : 'comfortable');
        });
      }

      // Copy code functionality
      function setupCopyButtons() {
        $$('.ds-copy-btn').forEach(btn => {
          btn.addEventListener('click', () => {
            const targetId = btn.getAttribute('data-copy-target');
            const target = $('#' + targetId);
            if (!target) return;

            const text = target.textContent;
            navigator.clipboard.writeText(text).then(() => {
              const originalText = btn.innerHTML;
              btn.innerHTML = '<svg width="16" height="16"><use href="#icon-check"></use></svg> Copied!';
              setTimeout(() => {
                btn.innerHTML = originalText;
              }, 2000);
            });
          });
        });
      }

      // Modal functions
      function openModal(id) {
        const modal = $('#' + id);
        if (!modal) return;

        modal.classList.add('open');
        document.body.style.overflow = 'hidden';

        // Focus first focusable element
        const focusable = $('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])', modal);
        if (focusable) setTimeout(() => focusable.focus(), 100);

        // Close on Escape
        const closeOnEsc = (e) => {
          if (e.key === 'Escape') {
            closeModal(id);
            document.removeEventListener('keydown', closeOnEsc);
          }
        };
        document.addEventListener('keydown', closeOnEsc);

        // Close on overlay click
        modal.addEventListener('click', (e) => {
          if (e.target === modal) closeModal(id);
        });
      }

      function closeModal(id) {
        const modal = $('#' + id);
        if (!modal) return;

        modal.classList.remove('open');
        document.body.style.overflow = '';
      }

      // Tab switching
      function switchTab(containerId, index) {
        const container = $('#' + containerId);
        if (!container) return;

        const tabs = $$('.ds-tab', container.previousElementSibling);
        const panels = $$('.ds-tab-panel', container);

        tabs.forEach((tab, i) => {
          if (i === index) {
            tab.classList.add('active');
            tab.setAttribute('aria-selected', 'true');
          } else {
            tab.classList.remove('active');
            tab.setAttribute('aria-selected', 'false');
          }
        });

        panels.forEach((panel, i) => {
          if (i === index) {
            panel.classList.add('active');
            panel.removeAttribute('hidden');
          } else {
            panel.classList.remove('active');
            panel.setAttribute('hidden', '');
          }
        });
      }

      // Accordion toggle
      function toggleAccordion(button) {
        const content = button.nextElementSibling;
        const isOpen = content.classList.contains('open');

        if (isOpen) {
          content.classList.remove('open');
          button.setAttribute('aria-expanded', 'false');
        } else {
          content.classList.add('open');
          button.setAttribute('aria-expanded', 'true');
        }
      }

      // Active navigation highlighting
      function setupNavHighlight() {
        const sections = $$('section[id]');
        const navLinks = $$('.ds-nav-link');

        const observerOptions = {
          root: null,
          rootMargin: '-20% 0px -70% 0px',
          threshold: 0
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const id = entry.target.getAttribute('id');
              navLinks.forEach(link => {
                if (link.getAttribute('href') === '#' + id) {
                  navLinks.forEach(l => l.classList.remove('active'));
                  link.classList.add('active');
                }
              });
            }
          });
        }, observerOptions);

        sections.forEach(section => observer.observe(section));
      }

      // Smooth scroll for anchor links
      function setupSmoothScroll() {
        $$('a[href^="#"]').forEach(link => {
          link.addEventListener('click', (e) => {
            const targetId = link.getAttribute('href').slice(1);
            if (!targetId) return;

            const target = $('#' + targetId);
            if (!target) return;

            e.preventDefault();
            target.scrollIntoView({
              behavior: prefersReducedMotion() ? 'auto' : 'smooth',
              block: 'start'
            });

            // Update URL without jumping
            history.pushState(null, '', '#' + targetId);
          });
        });
      }

      // LLM Directive Processing (optional)
      function applyDirectives() {
        // Parse all LLM:DIRECTIVE comments in the HTML
        // This is a placeholder for directive processing logic
        console.log('Directive processing is available for LLM modifications');
      }

      // Initialize all features
      function init() {
        initTheme();
        setupThemeToggle();
        setupDensityToggle();
        setupCopyButtons();
        setupNavHighlight();
        setupSmoothScroll();

        console.log('Design System initialized');
      }

      // Run on DOM ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', init);
      } else {
        init();
      }

      // Public API
      return {
        applyTheme,
        applyDensity,
        openModal,
        closeModal,
        switchTab,
        toggleAccordion,
        applyDirectives
      };
    })();
  </script>

  <!-- LLM:TOKENS
  {
    "color": {
      "primary": "var(--ds-primary)",
      "success": "var(--ds-success)",
      "warning": "var(--ds-warning)",
      "danger": "var(--ds-danger)",
      "text": "var(--ds-text)",
      "bg": "var(--ds-bg)"
    },
    "space": {
      "1": "var(--ds-space-1)",
      "2": "var(--ds-space-2)",
      "4": "var(--ds-space-4)",
      "6": "var(--ds-space-6)"
    },
    "font-size": {
      "100": "var(--ds-font-size-100)",
      "200": "var(--ds-font-size-200)",
      "300": "var(--ds-font-size-300)"
    }
  }
  -->
</body>
</html>